{
  "info": {
    "name": "Agranelos BFF - API Completa",
    "description": "Colección Postman para todos los endpoints del BFF de Agranelos (Productos, Bodegas y GraphQL).\n\n## Entornos Disponibles\nEsta colección incluye 4 archivos de entorno en la carpeta `postman/`:\n- **Local**: http://localhost:8080 (desarrollo local)\n- **Docker/Podman**: http://localhost:8080 (contenedor local)\n- **AWS**: https://your-bff-domain.amazonaws.com (producción AWS)\n- **Azure**: https://your-bff-app.azurewebsites.net (producción Azure)\n\n## Cómo usar\n1. Importa la colección en Postman\n2. Importa el entorno que desees usar desde `postman/`\n3. Selecciona el entorno en el dropdown de Postman\n4. ¡Listo para probar!\n\n## Variables\n- `base_url`: URL base del BFF\n- `producto_id`: ID de producto para pruebas\n- `bodega_id`: ID de bodega para pruebas\n- `username`: Usuario para autenticación HTTP Basic\n- `password`: Contraseña para autenticación HTTP Basic\n\n## Autenticación\nTodos los endpoints requieren autenticación HTTP Basic configurada a nivel de colección.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "basic",
    "basic": [
      {
        "key": "username",
        "value": "{{username}}",
        "type": "string"
      },
      {
        "key": "password",
        "value": "{{password}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "Productos",
      "item": [
        {
          "name": "Listar todos los productos",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/productos",
              "host": ["{{base_url}}"],
              "path": ["api", "productos"]
            }
          }
        },
        {
          "name": "Obtener producto por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/productos/{{producto_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "productos", "{{producto_id}}"]
            }
          }
        },
        {
          "name": "Crear nuevo producto",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Producto ejemplo\",\n  \"descripcion\": \"Descripción del producto de ejemplo\",\n  \"precio\": 99.99,\n  \"cantidadEnStock\": 25\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/productos",
              "host": ["{{base_url}}"],
              "path": ["api", "productos"]
            }
          }
        },
        {
          "name": "Actualizar producto existente",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Producto actualizado\",\n  \"descripcion\": \"Nueva descripción del producto actualizado\",\n  \"precio\": 149.99,\n  \"cantidadEnStock\": 15\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/productos/{{producto_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "productos", "{{producto_id}}"]
            }
          }
        },
        {
          "name": "Eliminar producto",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/productos/{{producto_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "productos", "{{producto_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Bodegas",
      "item": [
        {
          "name": "Listar todas las bodegas",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/bodegas",
              "host": ["{{base_url}}"],
              "path": ["api", "bodegas"]
            }
          }
        },
        {
          "name": "Obtener bodega por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/bodegas/{{bodega_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "bodegas", "{{bodega_id}}"]
            }
          }
        },
        {
          "name": "Crear nueva bodega",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Bodega Central\",\n  \"ubicacion\": \"Av. Principal 123, Ciudad\",\n  \"capacidad\": 5000\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/bodegas",
              "host": ["{{base_url}}"],
              "path": ["api", "bodegas"]
            }
          }
        },
        {
          "name": "Actualizar bodega existente",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Bodega Central Actualizada\",\n  \"ubicacion\": \"Av. Principal 123, Ciudad (Nueva ubicación)\",\n  \"capacidad\": 7500\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/bodegas/{{bodega_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "bodegas", "{{bodega_id}}"]
            }
          }
        },
        {
          "name": "Eliminar bodega",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/bodegas/{{bodega_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "bodegas", "{{bodega_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "GraphQL",
      "item": [
        {
          "name": "Info del endpoint GraphQL",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Health Check",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"{ health }\",\n  \"variables\": {},\n  \"operationName\": null\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Query - Listar todos los productos",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"{ productos { id nombre descripcion precio cantidad fechaCreacion fechaActualizacion } }\",\n  \"variables\": {},\n  \"operationName\": null\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Query - Producto por ID (con variables)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"query GetProducto($id: ID!) { producto(id: $id) { id nombre descripcion precio cantidad fechaCreacion fechaActualizacion } }\",\n  \"variables\": {\n    \"id\": \"{{producto_id}}\"\n  },\n  \"operationName\": \"GetProducto\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Query - Productos (solo campos básicos)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"{ productos { id nombre precio } }\",\n  \"variables\": {},\n  \"operationName\": null\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Query - Listar todas las bodegas",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"{ bodegas { id nombre ubicacion capacidad fechaCreacion fechaActualizacion } }\",\n  \"variables\": {},\n  \"operationName\": null\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Query - Bodega por ID (con variables)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"query GetBodega($id: ID!) { bodega(id: $id) { id nombre ubicacion capacidad fechaCreacion fechaActualizacion } }\",\n  \"variables\": {\n    \"id\": \"{{bodega_id}}\"\n  },\n  \"operationName\": \"GetBodega\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Query - Consulta múltiple (productos y bodegas)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"{ productos { id nombre precio } bodegas { id nombre ubicacion } }\",\n  \"variables\": {},\n  \"operationName\": null\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Mutation - Crear producto",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"mutation CrearProducto($input: ProductoInput!) { crearProducto(input: $input) { success message producto { id nombre precio cantidad } error } }\",\n  \"variables\": {\n    \"input\": {\n      \"nombre\": \"Producto GraphQL Test\",\n      \"descripcion\": \"Creado via mutation GraphQL\",\n      \"precio\": 99.99,\n      \"cantidad\": 50\n    }\n  },\n  \"operationName\": \"CrearProducto\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Mutation - Actualizar producto",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"mutation ActualizarProducto($input: ProductoUpdateInput!) { actualizarProducto(input: $input) { success message producto { id nombre precio cantidad } error } }\",\n  \"variables\": {\n    \"input\": {\n      \"id\": \"{{producto_id}}\",\n      \"nombre\": \"Producto Actualizado via GraphQL\",\n      \"precio\": 149.99,\n      \"cantidad\": 75\n    }\n  },\n  \"operationName\": \"ActualizarProducto\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Mutation - Eliminar producto",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"mutation EliminarProducto($id: ID!) { eliminarProducto(id: $id) { success message error } }\",\n  \"variables\": {\n    \"id\": \"{{producto_id}}\"\n  },\n  \"operationName\": \"EliminarProducto\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Mutation - Crear bodega",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"mutation CrearBodega($input: BodegaInput!) { crearBodega(input: $input) { success message bodega { id nombre ubicacion capacidad } error } }\",\n  \"variables\": {\n    \"input\": {\n      \"nombre\": \"Bodega GraphQL Test\",\n      \"ubicacion\": \"Calle Test 123\",\n      \"capacidad\": 3000\n    }\n  },\n  \"operationName\": \"CrearBodega\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Mutation - Actualizar bodega",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"mutation ActualizarBodega($input: BodegaUpdateInput!) { actualizarBodega(input: $input) { success message bodega { id nombre ubicacion capacidad } error } }\",\n  \"variables\": {\n    \"input\": {\n      \"id\": \"{{bodega_id}}\",\n      \"nombre\": \"Bodega Actualizada via GraphQL\",\n      \"ubicacion\": \"Nueva Ubicación 456\",\n      \"capacidad\": 5000\n    }\n  },\n  \"operationName\": \"ActualizarBodega\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        },
        {
          "name": "Mutation - Eliminar bodega",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"mutation EliminarBodega($id: ID!) { eliminarBodega(id: $id) { success message error } }\",\n  \"variables\": {\n    \"id\": \"{{bodega_id}}\"\n  },\n  \"operationName\": \"EliminarBodega\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/graphql",
              "host": ["{{base_url}}"],
              "path": ["api", "graphql"]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080"
    },
    {
      "key": "producto_id",
      "value": "1"
    },
    {
      "key": "bodega_id",
      "value": "1"
    },
    {
      "key": "username",
      "value": "user"
    },
    {
      "key": "password",
      "value": "myStrongPassword123"
    }
  ]
}
